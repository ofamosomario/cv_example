<%= content_tag :div, id: 'user-form', class: 'columns', data: { user: user.to_json(except: [:created_at, :updated_at]) } do %>

  <div class='column'>
    <div id="form" class="card">
      <div class="card-content">
        <h2 class="title">Cadastrar Usu√°rio</h2>

        <label>Name</label>
        <input type='text' v-model="user.name" class="input">
        <div class="form-control-feedback" v-if="errors.name" v-cloak>{{ errors.name }}</div>
    
        <label>Email:</label>
        <input type='text' v-model="user.email" class="input">
    
        <label>Phone:</label>
        <the-mask mask="+## (##) #.####-####" class="input" type='text' v-model="user.phone" /></the-mask>
    
        <label>Description</label>
        <input type='text' v-model="user.description" class="input">
    
        <label>Experience 1</label>
        <textarea class="textarea" v-model="user.exp1"></textarea>
    
        <label>Experience 2</label>
        <textarea class="textarea" v-model="user.exp2"></textarea>
    
        <label>Experience 3</label>
        <textarea class="textarea" v-model="user.exp3"></textarea>
    
        <label>Degree</label>
        <textarea class="textarea" v-model="user.education"></textarea>
    
        <label>Extras</label>
        <textarea class="textarea" v-model="user.extras"></textarea>
    
        <label>Sex</label>
        <select v-model="user.gender" class="select">
          <option>Male</option>
          <option>Female</option>
        </select>
      </div>

      <p v-if="errors.length">
        <hr />
        <b>Please correct the following error(s):</b>
        <ul>
          <li v-for="error in errors">{{ error }}</li>
        </ul>
        <hr />
      </p>

      <div class="card-footer">
        <button v-on:click="Submit" class="button is-link">Submit CV</button>
      </div>
    </div>
  </div>

  <div class='column is-two-thirds preview card'>
    <div id="cv-preview" class="card-content">
      <h3 class="center title name">{{ user.name }}</h3>
      <p class="center subtitle"><b v-if="user.phone != null">Contact Number:</b> {{ user.phone }} <b v-if="user.email != null">Email:</b> {{ user.email }}    <b v-if="user.gender != null">Sex:</b> {{ user.gender }}</p>

      <div class="description">
        <p class="subtitle" v-if="user.description != null">Description</p>
        <p>
          {{ user.description }}
        </p>
      </div>
    
      <div class="exp">
        <p class="subtitle" v-if="user.exp1 != null">Experience 1</p>
        <p>
          {{ user.exp1 }}
        </p>
      </div>
    
      <div class="exp">
        <p class="subtitle" v-if="user.exp2 != null">Experience 2</p>
        <p>
          {{ user.exp2 }}
        </p>
      </div>
    
      <div class="exp">
        <p class="subtitle" v-if="user.exp3 != null">Experience 3</p>
        <p>
          {{ user.exp3 }}
        </p>
      </div>
    
      <div class="education">
        <p class="subtitle" v-if="user.education != null">Degree</p>
        <p>
          {{ user.education }}
        </p>
      </div>
    
      <div class="extras">
        <p class="subtitle" v-if="user.extras != null">Extras</p>
        <p>
          {{ user.extras }}
        </p>
      </div>
    </div>
  </div>
<% end %>